<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Simple Video Player</title>
  <meta name="description" content="Simple video player with autoplay, background, description, download and player controls">
  <style>
    :root{--card-bg:rgba(0,0,0,0.66);--muted:#9aa6b2}
    *{box-sizing:border-box}
    body{margin:0;min-height:100vh;display:flex;align-items:center;justify-content:center;background:url('background.jpg') no-repeat center center fixed;background-size:cover;font-family:system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,'Helvetica Neue',Arial;color:#eee}
    .overlay{position:fixed;inset:0;background:linear-gradient(rgba(0,0,0,.55),rgba(0,0,0,.55));z-index:0}
    .container{position:relative;z-index:1;width:min(980px,95%);margin:28px auto}
    .card{background:var(--card-bg);padding:18px;border-radius:12px;box-shadow:0 12px 40px rgba(0,0,0,.6);backdrop-filter:blur(6px)}
    header{display:flex;align-items:center;justify-content:space-between;gap:12px}
    h1{font-size:18px;margin:0}
    .meta{font-size:13px;color:var(--muted)}

    /* video area */
    .media-wrap{margin-top:12px;position:relative}
    .video-frame, video{width:100%;height:100%;max-height:620px;border-radius:8px;background:#000;display:block}
    .controls{display:flex;flex-wrap:wrap;gap:8px;align-items:center;justify-content:space-between;padding:10px;margin-top:10px;border-radius:8px;background:linear-gradient(180deg,rgba(255,255,255,.02),rgba(255,255,255,.01))}

    /* left controls */
    .left{display:flex;gap:8px;align-items:center}
    .btn{background:rgba(255,255,255,.04);border:1px solid rgba(255,255,255,.04);padding:8px 10px;border-radius:8px;color:inherit;cursor:pointer}
    .btn.small{padding:6px 8px;font-size:14px}
    .progress{flex:1;height:8px;background:rgba(255,255,255,.06);border-radius:6px;position:relative;overflow:hidden;margin:0 12px}
    .progress > .bar{position:absolute;left:0;top:0;height:100%;width:0%;background:linear-gradient(90deg,#4f46e5,#06b6d4)}

    /* right controls */
    .right{display:flex;gap:8px;align-items:center}
    .volume{display:flex;gap:6px;align-items:center}
    input[type=range]{accent-color:#4f46e5}

    .description{margin-top:14px;background:rgba(255,255,255,0.03);padding:12px;border-radius:8px;color:#d0d0d0}
    .download{display:inline-flex;align-items:center;gap:8px;text-decoration:none;padding:8px 10px;border-radius:8px;border:1px solid rgba(255,255,255,.04);background:rgba(255,255,255,.03);color:inherit}

    .hint{font-size:13px;color:var(--muted);margin-top:8px}

    /* responsive tweaks */
    @media (max-width:640px){
      .controls{flex-direction:column;align-items:stretch}
      .progress{margin:10px 0}
    }
  </style>
</head>
<body>
  <div class="overlay" aria-hidden="true"></div>

  <div class="container">
    <section class="card" aria-label="Video player card">
      <header>
        <div>
          <h1 id="title">Simple Video Player</h1>
          <div class="meta" id="meta">Autoplay enabled ¬∑ Press <kbd>Space</kbd> to play/pause</div>
        </div>
        <div>
          <a id="downloadBtn" class="download" href="video.mp4" download>Download Video</a>
        </div>
      </header>

      <div class="media-wrap" id="mediaWrap" data-youtube="29Jn9il7QtQ">
        <!-- If you want to use YouTube, set data-youtube on the mediaWrap element.
             Example: <div class="media-wrap" data-youtube="29Jn9il7QtQ"> -->

        <!-- Local video element (default). If data-youtube exists we'll swap to iframe. -->
        <video id="player" class="player" playsinline preload="auto" controls crossorigin>
          <source src="video.mp4" type="video/mp4">
          Your browser doesn't support HTML5 video.
        </video>

      </div>

      <div class="controls" role="group" aria-label="Player controls">
        <div class="left">
          <button id="playPause" class="btn small" aria-label="Play/Pause">Play</button>
          <button id="rew" class="btn small" title="Rewind 10s">¬´ 10s</button>
          <button id="fwd" class="btn small" title="Forward 10s">10s ¬ª</button>
          <div class="progress" id="progress" aria-label="Playback progress">
            <div class="bar" id="progressBar"></div>
          </div>
          <div class="time meta" id="time">0:00 / 0:00</div>
        </div>

        <div class="right">
          <div class="volume">
            <button id="muteBtn" class="btn small" aria-label="Mute/Unmute">üîä</button>
            <input id="vol" type="range" min="0" max="1" step="0.01" value="1" aria-label="Volume">
          </div>
          <select id="speed" class="btn small" aria-label="Playback speed">
            <option value="0.5">0.5√ó</option>
            <option value="0.75">0.75√ó</option>
            <option value="1" selected>1√ó</option>
            <option value="1.25">1.25√ó</option>
            <option value="1.5">1.5√ó</option>
            <option value="2">2√ó</option>
          </select>
          <button id="pip" class="btn small" title="Picture in Picture">PIP</button>
          <button id="fs" class="btn small" title="Fullscreen">‚§¢</button>
        </div>
      </div>

      <div class="description" id="description">
        <strong>Video Description</strong>
        <p id="descText">This is a sample area where you can write about your video. Describe what it‚Äôs about, who made it, when it was created, or any interesting details you want visitors to know. You can write multiple paragraphs or include links, contact info, or credits.</p>
      </div>

      <div class="hint">Keyboard shortcuts: <strong>Space</strong>=play/pause ¬∑ <strong>‚Üê / ‚Üí</strong>=seek 5s ¬∑ <strong>F</strong>=fullscreen ¬∑ <strong>M</strong>=mute</div>
    </section>
  </div>

  <script>
    /* Configuration: if you want to use YouTube embed, set data-youtube on mediaWrap
       e.g. <div class="media-wrap" data-youtube="29Jn9il7QtQ"> and remove local video.mp4 or keep for download. */
    const mediaWrap = document.getElementById('mediaWrap');
    const youtubeId = mediaWrap.dataset.youtube || '';
    const playerEl = document.getElementById('player');
    const playPauseBtn = document.getElementById('playPause');
    const rewBtn = document.getElementById('rew');
    const fwdBtn = document.getElementById('fwd');
    const progress = document.getElementById('progress');
    const progressBar = document.getElementById('progressBar');
    const timeEl = document.getElementById('time');
    const vol = document.getElementById('vol');
    const muteBtn = document.getElementById('muteBtn');
    const speed = document.getElementById('speed');
    const pipBtn = document.getElementById('pip');
    const fsBtn = document.getElementById('fs');
    const downloadBtn = document.getElementById('downloadBtn');

    let player = playerEl; // will reference either <video> or iframe window
    let isYouTube = false;

    // If a YouTube ID is provided, swap in an iframe
    if(youtubeId){
      isYouTube = true;
      const iframe = document.createElement('iframe');
      iframe.className = 'video-frame';
      iframe.width = '100%';
      iframe.height = '480';
      iframe.allow = 'accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture';
      iframe.allowFullscreen = true;
      iframe.src = `https://www.youtube.com/embed/${youtubeId}?autoplay=1&mute=1&rel=0&playsinline=1`;
      // replace video element with iframe
      playerEl.replaceWith(iframe);
      player = iframe;
      // When using YouTube iframe, downloading isn't possible directly
      downloadBtn.style.display = 'none';
      document.getElementById('meta').textContent = 'Playing via YouTube embed ‚Äî download disabled';
    } else {
      // Local video controls
      setupVideoControls();
    }

    function setupVideoControls(){
      // Try autoplay; if blocked, mute and play
      (async function tryAutoplay(){
        try{ await player.play(); }catch(e){ player.muted = true; try{ await player.play(); }catch(e){} document.getElementById('meta').textContent = 'Autoplay muted: click to enable sound'; }
      })();

      playPauseBtn.addEventListener('click', ()=>{
        if(player.paused) player.play(); else player.pause();
      });

      player.addEventListener('play', ()=>{ playPauseBtn.textContent = 'Pause'; });
      player.addEventListener('pause', ()=>{ playPauseBtn.textContent = 'Play'; });

      rewBtn.addEventListener('click', ()=>{ player.currentTime = Math.max(0, player.currentTime - 10); });
      fwdBtn.addEventListener('click', ()=>{ player.currentTime = Math.min(player.duration || 0, player.currentTime + 10); });

      // Progress
      player.addEventListener('timeupdate', updateProgress);
      function updateProgress(){
        const pct = (player.currentTime / (player.duration || 1)) * 100;
        progressBar.style.width = pct + '%';
        timeEl.textContent = formatTime(player.currentTime) + ' / ' + formatTime(player.duration || 0);
      }

      // Seek by clicking progress bar
      progress.addEventListener('click', (e)=>{
        const rect = progress.getBoundingClientRect();
        const x = e.clientX - rect.left;
        const pct = x / rect.width;
        player.currentTime = pct * (player.duration || 0);
      });

      // Volume
      vol.addEventListener('input', ()=>{ player.volume = vol.value; player.muted = player.volume === 0; updateMuteUI(); });
      muteBtn.addEventListener('click', ()=>{ player.muted = !player.muted; updateMuteUI(); });
      function updateMuteUI(){ muteBtn.textContent = player.muted ? 'üîà' : 'üîä'; vol.value = player.muted ? 0 : player.volume; }

      // Speed
      speed.addEventListener('change', ()=>{ player.playbackRate = parseFloat(speed.value); });

      // Picture in Picture
      pipBtn.addEventListener('click', async ()=>{
        if(document.pictureInPictureElement){ await document.exitPictureInPicture(); return; }
        try{ await player.requestPictureInPicture(); }catch(e){ alert('Picture-in-Picture not supported on this browser or for this video.'); }
      });

      // Fullscreen
      fsBtn.addEventListener('click', ()=>{ if(!document.fullscreenElement) player.requestFullscreen?.(); else document.exitFullscreen(); });

      // Keyboard shortcuts
      window.addEventListener('keydown', (e)=>{
        if(e.target.tagName === 'INPUT' || e.target.tagName === 'TEXTAREA') return;
        if(e.code === 'Space'){ e.preventDefault(); if(player.paused) player.play(); else player.pause(); }
        if(e.key === 'ArrowLeft'){ player.currentTime = Math.max(0, player.currentTime - 5); }
        if(e.key === 'ArrowRight'){ player.currentTime = Math.min(player.duration || 0, player.currentTime + 5); }
        if(e.key.toLowerCase() === 'f'){ if(!document.fullscreenElement) player.requestFullscreen?.(); else document.exitFullscreen(); }
        if(e.key.toLowerCase() === 'm'){ player.muted = !player.muted; updateMuteUI(); }
      });

      // Format time helper
      function formatTime(s){ if(!isFinite(s)) return '0:00'; const m = Math.floor(s/60); const sec = Math.floor(s%60); return m + ':' + String(sec).padStart(2,'0'); }

      // Initialize UI
      player.addEventListener('loadedmetadata', updateProgress);
      updateMuteUI();
    }

    // If iframe YouTube we can't control native video events similarly; simple play/pause label change not supported.

    // Small UX: clicking on media toggles play/pause for local video
    document.addEventListener('click', (e)=>{
      if(e.target.closest('.player') && !isYouTube){ if(player.paused) player.play(); else player.pause(); }
    });

    // Allow changing description text from script easily
    // document.getElementById('descText').textContent = 'Your custom description here.';
  </script>
</body>
</html>
